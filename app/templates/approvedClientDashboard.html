<!DOCTYPE html>
<html lang="en">
<head>
    {% if not user.is_authenticated %}
    <script>window.location.href = "{% url 'landingpage' %}"</script>
{% endif %}
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sversity is the online edu. Tech division of Apcosys Private Limited and Apcosys is a software development and consultancy company with headquarter in Bangalore, India. Sversity online learning destination, offering high-quality courses from the world's best universities and institutions to learners everywhere. In the age of internet, do we really need to spend huge amount on getting degrees? One can equally quench his third for knowledge by joining online classes.">
    <title>Leapss - Leave Management System</title>
    {% load static %}
    <link href="{% static 'assets\css\admin.css' %}" rel="stylesheet">
    <link href="{% static 'assets\css\calendar.css' %}" rel="stylesheet">

    <!-- CSS only -->
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>

    <!-- Ionic Icon -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css">
 
    <!-- bootstrap Icon  -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">

    <!-- Google Icon -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,200,0,0" />
     
</head>
<body id="body-pd">
    <div class="d-flex" id="wrapper">
        <!-- Sidebar-->
        <div class="border-end bg-white   position-sticky header" id="sidebar-wrapper">
          <div class="justify-content-center">
            <div class="leapss"><img src="{% static 'assets/img/logo.png'%}" alt="">
            <button class="btn" id="sidebarClose"><i class="bi bi-x navToggle"></i>  </button></div>
        </div>
            <ul class="sidebar-nav " id="sidebar-nav">
                <li class="profile"data-bs-toggle="collapse">
                    <img src="{% static 'assets/img/user.png'%}" alt="" class="img-fluid rounded-circle">
                    <h6>{{user.username}}</h6>
                </li>
            </ul>
            <div class="list-group list-group-flush" style="list-style:none; margin-top: 3%;">
                <li ><a class="list-group-item" href="{% url 'homeDashboard' %}"><i class="bi bi-grid" style="margin-left: 20%; font-size:18px;"></i><span></i> <span>Home</span></a></li>
                <li><a class="list-group-item" href="{% url 'appRequestDashboard' %}"> <i class="bi bi-clock" style="margin-left: 20%;font-size:18px; "></i><span></i><span>Client Requests</span></a></li>
                <li><a class="list-group-item {% if page == "approvedClient" %}active{% endif %} " href="{% url 'approvedClientDashboard' %}"><i class="bi bi-diagram-3"style="margin-left: 20%;font-size:18px;"></i><span></i><span>Our Clients</span></a></li>
                
                {% comment %} <li><a class="list-group-item {% if page == "activeClient" %}active{% endif %} " href="{% url 'activeClientDashboard' %}"><i class="bi bi-diagram-3"style="margin-left: 20%;font-size:18px;"></i><span></i><span>Active Clients</span></a></li>
                <li><a class="list-group-item {% if page == "inactiveClient" %}active{% endif %} " href="{% url 'inactiveClientDashboard' %}"><i class="bi bi-diagram-3"style="margin-left: 20%;font-size:18px;"></i><span></i><span>Inactive Clients</span></a></li>
                 {% endcomment %}
                <li><a class="list-group-item " href="{% url 'rejectedClientDashboard' %}"><i class="bi bi-receipt"style="margin-left: 20%;font-size:18px;"></i><span></i><span>Rejected Clients</span></a></li>
                <li><a class="list-group-item " href="{% url 'companyfeedback' %}"><i class="bi bi-receipt"style="margin-left: 20%;font-size:18px;"></i><span></i><span> Feedback</span></a></li>
                <li><a class="list-group-item" href="{% url 'admincompanysupport' %}"><i class="bi bi-receipt"style="margin-left: 20%;font-size:18px;"></i><span></i><span>Support </span></a></li>
             </div>
             <div class="logout">
              <a class="nav-link"href="{% url 'logout_superuser' %}"><span class="material-symbols-outlined"style="padding:5%;font-weight: 600; position:relative;top:3px;">
                logout
                </span><span style="font-family: 'Segoe UI', sans-serif; position:relative;bottom:3px; ">Log Out</span></a>
            </div>
        </div>
        <!-- Page content wrapper-->
        <div id="page-content-wrapper">
            <!-- Top navigation-->
            <nav class="navbar navbar-expand-lg  align-items-center justify-content-between  ">
                <button class="btn toggle " id="sidebarToggle"><i class="bi bi-list navToggle"></i></button>
                <h1 style="text-align:center;color:green;">{% if page == 'approvedClient' %}Our Clients{% elif page == 'activeClient' %}Active Clients{% else %}Inactive Clients{% endif %}</h1>

                <form method="POST" autocomplete="off" id="search-form" >
                    {% csrf_token %}
                    <div class="inputWithIcon">
                        <input id="search-input" class="search" type="search" placeholder="Search..." autofocus />
                        <ion-icon name="search-outline" style="left: 1%;"></ion-icon>
                    </div>
                </form>
            </nav>
            <div class="col-md-6">
                <p>
                    <p id="demo" style="display:none;"></p>
                    
                    
                  <div class="btn-group" id="allclients" style="display:none;">
                    <div class="tw-toggle">
                    
                    <a  class="btnnew btn-primary " href="{% url 'approvedClientDashboard' %}">All Clients</a>	&#160;
                    <a  class="btnnew btn-default " href="{% url 'activeClientDashboard' %}">Active</a>	&#160;
                    <a  class="btnnew btn-default " href="{% url 'inactiveClientDashboard' %}">Inactive</a>	

                   </div>  
                  </div> 

                  <div class="btn-group" id="active" style="display:none;">
                    <div class="tw-toggle">
                    
                    <a  class="btnnew btn-default " href="{% url 'approvedClientDashboard' %}">All Clients</a>	&#160;
                    <a  class="btnnew btn-primary " href="{% url 'activeClientDashboard' %}">Active</a>	&#160;
                    <a  class="btnnew btn-default " href="{% url 'inactiveClientDashboard' %}">Inactive</a>	

                   </div>  
                  </div> 

                  <div class="btn-group" id="Inactive" style="display:none;">
                    <div class="tw-toggle">
                    
                    <a  class="btnnew btn-default " href="{% url 'approvedClientDashboard' %}">All Clients</a>	&#160;
                    <a  class="btnnew btn-default " href="{% url 'activeClientDashboard' %}">Active</a>	&#160;
                    <a  class="btnnew btn-primary " href="{% url 'inactiveClientDashboard' %}">Inactive</a>	

                   </div>  
                  </div> 

                  <script>
                    document.getElementById("demo").innerHTML =  window.location.href;
                    let news =  window.location.href;
                    console.log(news);
                    let newstring = news.replace('http://127.0.0.1:8000/', '');
                    console.log(newstring);
                    if(newstring=="approvedClientDashboard")
                    {
                    document.getElementById('allclients').style.display = "";
                    }
                    if(newstring=="activeClientDashboard")
                    {
                    document.getElementById('active').style.display = "";
                    }
                    if(newstring=="inactiveClientDashboard")
                    {
                    document.getElementById('Inactive').style.display = "";
                    }
                    
                    </script>
                  
                </p>
                
              </div>
            <div style="overflow-x:auto;">
            <table class="table" style="width: 95%;margin: 30px;">
                <thead>
                    <tr>
                        <th>Company Name</th>
                        <th>Website</th>
                        <th>Email</th>
                        <th>City</th>
                        <th>Country</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    {% for client in clients %}
                        <tr class='outers'>
                            <td class='name'>{{ client.company_name }}</td>
                            <td><a href="{{ client.website }}" target="_blank">{{ client.website }}</a></td>
                            <td class='dep'>{{ client.email }}</td>
                            <td class='emp_id'>{{ client.city }}</td>
                            <td class='country'>{{ client.country }}</td>
                            <td>
                                <div class="btn-group">
                                <a href="{% url 'viewClient' client.id %}" class="btn btn-info mr-2" style="width:80px;">View</a>
                                {% if client.active_status == True %}
                                    <a href="{% url 'disableClient' client.id %}" id='disable_client'><button style="width:130px;" class="btn btn-success" data-toggle="modal" data-target="#exampleModalCenter">Disable Client</button></a>
                                {% else %}
                                    <a href="{% url 'enableClient' client.id %}" id='disable_client'><button style="width:130px;" class="btn btn-warning" data-toggle="modal" data-target="#exampleModalCenter2">Enable Client</button></a>
                                {% endif %}
                            </div>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
            </div>

            <!-- Modal for Dissable -->
            <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-body">
                        <br>
                        <div class="text-center" style="width: 100%;"><img src="{% static 'assets/img/dissable.jpg'%}" style="width: 20%;" alt=""></div>
                        <div style="font-size:30px;margin:20px 50px;color:red;font-weight:bold;text-align:center;">Client is Dissabled Successfully</div>
                        <br>
                    </div>
                </div>
                </div>
            </div>
            <!-- Modal for Enable -->
            <div class="modal fade" id="exampleModalCenter2" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-body">
                        <br>
                        <div class="text-center" style="width: 100%;"><img src="{% static 'assets/img/enable.jpg'%}" style="width: 20%;" alt=""></div>
                        <div style="font-size:30px;margin:20px 50px;color:green;font-weight:bold;text-align:center;">Client is Enabled Successfully</div>
                        <br>
                    </div>
                </div>
                </div>
            </div>



        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script src="{% static 'assets\js\main.js' %}"></script>
    <script>
        const input = document.getElementById('search-input')
        input.addEventListener('keyup', (e) => {
            var inputs = e.target.value.toLowerCase(); //do lowercase
            //loop through outer div and hide it
            document.querySelectorAll('.outers').forEach(function(el) {
                el.style.display = 'none';
            });
            //loop through outer ->card-title
            document.querySelectorAll('.outers .name').forEach(function(el) {
                //compare 
                if (el.textContent.toLowerCase().indexOf(inputs) > -1) {
                    el.closest('.outers').style.display = "table-row"; //if match show that div
                }
            })
            document.querySelectorAll('.outers .dep').forEach(function(el) {
                //compare 
                if (el.textContent.toLowerCase().indexOf(inputs) > -1) {
                    el.closest('.outers').style.display = "table-row"; //if match show that div
                }
            })
            document.querySelectorAll('.outers .emp_id').forEach(function(el) {
                //compare 
                if (el.textContent.toLowerCase().indexOf(inputs) > -1) {
                    el.closest('.outers').style.display = "table-row"; //if match show that div
                }
             })
             document.querySelectorAll('.outers .country').forEach(function(el) {
                //compare 
                if (el.textContent.toLowerCase().indexOf(inputs) > -1) {
                    el.closest('.outers').style.display = "table-row"; //if match show that div
                }
             })
        })

        $(document).ready(function(){
            $('#disable_client').on('click', function(){
                alert('Are you sure?');
            });
            $('#enable_client').on('click', function(){
                alert('Are you sure?');
            });
        });

    </script>
    <style>
        .btn-info {
            color: #fff;
            background-color: #009eff;
            border-color: #009eff;
        }
        .btn-warning {
            color: #212529;
            background-color: #ffc14e;
            border-color: #ffc14e;
        }
    </style>
    <style>
        .btn-primary {
            color: #fff;
            background-color: #009eff;
            border-color: #009eff;
            border-radius: 19px;
        }
        .tw-toggle {
          display: flex;
          align-items: center;
          height: 46px;
          padding: 2px 3px;
          border-radius: 50px;
          position: relative;
          border: 2px solid #009eff;
          margin: 0;
          flex-flow: wrap;
          width: 246px;
      }
        .btn-default {
            color: #333;
            background-color: #fff;
            border-color: #ccc;
            border: none;
        }
        .btnnew{
          padding: 5px 10px 5px 10px;
          text-decoration: none; 
          border-radius: 20px;
        
        }
        .btnnew:hover { 
          text-decoration: none; 
        }
        </style>
</body>
</html>