<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sversity is the online edu. Tech division of Apcosys Private Limited and Apcosys is a software development and consultancy company with headquarter in Bangalore, India. Sversity online learning destination, offering high-quality courses from the world's best universities and institutions to learners everywhere. In the age of internet, do we really need to spend huge amount on getting degrees? One can equally quench his third for knowledge by joining online classes.">
    <title>Leapss - Leave Management System</title>
    {% load static %}
    <link href="{% static 'assets\css\admin.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'assets/css/approvalStatus.css'%}">

    <!-- CSS only -->
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>

    <!-- Ionic Icon -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css">

    <!-- bootstrap Icon  -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">

    <!-- Google Icon -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,200,0,0" />

    <!-- DataTable js-->
    <link rel='stylesheet' href='https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css'>
    <link rel='stylesheet' href='https://cdn.datatables.net/1.10.19/css/dataTables.jqueryui.min.css'>
    <link rel='stylesheet' href='https://cdn.datatables.net/buttons/1.5.2/css/buttons.jqueryui.min.css'>
    <link rel='stylesheet' href='https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css'>
    <link rel='stylesheet' href='https://cdn.datatables.net/responsive/2.2.5/css/responsive.dataTables.min.css'>    

    <style>
        /* Add your styles here */
        .hidden {
            display: none;
        }
    </style>
    <style>
        .report-box button{
            height:200px;
            width:200px;
            background-color:#52d89c;
            border:none;
            border-radius:10px;
            margin:90px 0px 20px;
        }
        .report-box img{
            width:70%;
        }
        .backup-btn{
            width:100%;
            height:100px;
            background-color:#CF94D9;
            color:white;
            font-size:24px;
            font-weight:bold;
            border:none;
            border-radius:10px;
        }
        .backup-btn img{
            width:70px;
        }
        .modal-body a{
            background-color:#52d89c;
            color:black;
            width:100%;
            height:50px;
            display:flex;
            align-items:center;
            justify-content:center;
            margin:0px 0px 5px 60px;
        } 
        .modal-body button{
            background-color:#52d89c;
            color:black;
            width:75%;
            height:50px;
            display:flex;
            align-items:center;
            justify-content:center;
            margin:0px 0px 5px 60px;
        } 
        #id_employee{
            overflow: hidden;
            width:75%;
            margin:0px 0px 5px 60px;
            animation: expandHeight 0.3s forwards;
        }
        @keyframes expandHeight {
            from {
                height: 0;
            }
            to {
            }
        }
        #employeeReportForm, #leaveReportForm{
            display: none;
        }
        @media (max-width: 767px) {
            .report-box button {
                margin: 10px 0;
            }
        }
        .modal-body a{
            width:75%;
        } 
    </style>
</head>
<body id="body-pd">
    <div class="d-flex" id="wrapper">
        <!-- Sidebar-->
        <div class="border-end bg-white border-right position-sticky header" id="sidebar-wrapper">
            <div class="justify-content-center">
                <div class="leapss"><img src="{% static 'assets/img/logo.png'%}" alt="">
                <button class="btn" id="sidebarClose"><i class="bi bi-x navToggle"></i>  </button></div>
            </div>
            <ul class="sidebar-nav " id="sidebar-nav">
                <li class="profile"data-bs-toggle="collapse">
                    <img src="{% static 'assets/img/user.png'%}" alt="" class="img-fluid rounded-circle">
                    <h6>{{com.name}}</h6>
                </li>
            </ul>
            <div class="list-group list-group-flush" style="list-style:none; margin-top: 3%;">
                <li><a class="list-group-item " href="/adminDashboard"><i class="bi bi-grid" style="margin-left: 20%; font-size:18px;"></i><span></i> <span>Home</span></a></li>
                <li><a class="list-group-item " href="/leaveApplicationDetails"> <i class="bi bi-clock" style="margin-left: 20%;font-size:18px; "></i><span></i><span>Leave Section</span></a></li>
                <li><a class="list-group-item " href="{% url 'activeEmployee' %}"><i class="bi bi-people" style="margin-left: 20%;font-size:18px;"></i><span></i><span>Employee</span></a></li>
                <li><a class="list-group-item " href="/companySetup"><i class="bi bi-gear"style="margin-left: 20%;font-size:18px;"></i><span></i><span>Company</span></a></li>
                <li><a class="list-group-item" href="{% url 'department' %}"><i class="bi bi-diagram-3"style="margin-left: 20%;font-size:18px;"></i><span></i><span>Department</span></a></li>
                <li><a class="list-group-item " href="/leavePolicySetting"><i class="bi bi-receipt"style="margin-left: 20%;font-size:18px;"></i><span></i><span>Leave Policy</span></a></li>
                <li><a class="list-group-item active" style="cursor: pointer;" data-toggle="modal" data-target="#reportModal"><i class="bi bi-journal-arrow-down"style="margin-left: 20%;font-size:18px;"></i><span></i><span>Reports</span></a></li>
                <li><a class="list-group-item " href="/reportPrinting"><i class="bi bi-journal-arrow-down"style="margin-left: 20%;font-size:18px;"></i><span></i><span>Reports & Backup</span></a></li>
             </div>
             <div class="logout">
              <a class="nav-link"href="{% url 'logout' %}"><span class="material-symbols-outlined"style="padding:5%;font-weight: 600; position:relative;top:3px;">
                logout
                </span><span style="font-family: 'Segoe UI', sans-serif; position:relative;bottom:3px; ">Log Out</span></a>
            </div>
            
        </div>
        <!-- Page content wrapper-->
        <div id="page-content-wrapper">
            <!-- Top navigation-->
            <nav class="navbar navbar-expand-lg  align-items-center justify-content-between border-bottom" style="padding: 15px;">
                <!-- <div class="container">
                    <button class="btn" id="sidebarToggle"><span class="navbar-toggler-icon"></span></button>
                </div> -->
                
                <div class="logo d-flex align-items-center">
                    <button class="btn toggle " id="sidebarToggle"><i class="bi bi-list navToggle"></i></button>
                    <!-- <img src="{% static 'assets/img/Apcosys.png'%}" alt=""> -->
                    <span style=width:300px;>{% if com is None %}Your Company Name{% else %}{{  com.name }}{% endif %}</span>
                </div>
                  
                    
            </nav>
            <section class="section container bg-white rounded dashboard">
                <div class="row">
                    <div class="col-md-6">
                        <h5 style="color: #009eff;padding: 1%;">Employees Report</h5>
                       
                        
                    </div>
                    <div class="col-md-6" >
                        
                    {% comment %} <button type="button" class="btn btn-primary btn-sm"  style="float:right; position: relative;top: 3px;" onclick="toggleFilter()">  Filter</button>
                         {% endcomment %}
                    </div>
                       
                    </div>
                    <br>

                    <div style="background-color : #e9e8e8; border-radius: 10px;     padding: 5px;" id="filterElement" >
                        <div class="row justify-content-center">
                          <div class="col-lg-12">
                            
                            <form method="post" action="">
                             {% csrf_token %}
                              <div class="row g-3">
                                <div class="col-md-3">
                                    
                                </div>
                                <div class="col-md-4">
                                    <label for="your-name" class="form-label">From </label>
                                    
                                  </div>
                                  <div class="col-md-4">
                                    <label for="your-surname" class="form-label">To  </label>
                                    
                                  </div>
                                <div class="col-md-3">
                                    <label for="your-name" class="form-label" style="font-weight:bold;"> Date Range</label>
                                    
                                </div>
                                <div class="col-md-4">
                                  
                                  <input type="date" class="form-control" id="from-date" name="fromdate" >
                                </div>
                                <div class="col-md-4">
                                  
                                  <input type="date" class="form-control" id="to-date" name="todate" >
                                </div>
                                <div class="col-md-3">
                                    <label for="your-name" class="form-label" style="font-weight:bold;"> Status</label>
                                    
                                </div>
                                <div class="col-md-8">
                                    
                                  {% comment %} <label for="your-email" class="form-label">Employee Status</label> {% endcomment %}
                                  <select class="form-control" name="estatus" style="margin-bottom: 5px;">
                                    <option value="All">All</option>
                                    <option value="true">Active</option>
                                    <option value="false">Inactive</option>
                                  </select>
                                </div>
                                <div class="col-md-3">
                                    <label for="your-name" class="form-label" style="font-weight:bold;"> Department </label>
                                    
                                </div>
                                <div class="col-md-8">
                                    
                                    {% comment %} <label for="your-subject" class="form-label">Department</label> {% endcomment %}
                                    <select class="form-control" name="department" style="margin-bottom: 5px;">
                                      <option value="All">All</option>
                                      {% for dp in dep %}
                                      <option value="{{dp.id}}">{{dp.department}}</option>
                                      {% endfor %}
                                      
                                    </select>
                                </div>
                                <div class="col-md-3">
                                    <label for="your-name" class="form-label" style="font-weight:bold;"> Level  </label>
                                    
                                </div>
                                <div class="col-md-8">
                                    
                                    {% comment %} <label for="your-subject" class="form-label">Level vice</label> {% endcomment %}
                                    <select class="form-control" name="level" style="margin-bottom: 5px;">
                                      <option value="All">All</option>
                                      <option value="Level 0">HR</option>
                                      <option value="Level 1">Senior Offical</option>
                                      <option value="Level 2">Team Lead</option>
                                      <option value="Level 3">Employee</option>
                                    </select>
                                </div>
                                <div class="col-md-3">
                                    <label for="your-name" class="form-label" style="font-weight:bold;"> Employee Range  </label>
                                    
                                </div>
                                <div class="col-md-4">
                                    
                                    {% comment %} <label for="your-subject" class="form-label">From Employee </label> {% endcomment %}
                                    <select class="form-control" name="fromemployee" id="fromemployee" style="margin-bottom: 5px;">
                                      <option value="All">All</option>
                                      <option value="a">A</option>
                                      <option value="c">C</option>
                                      <option value="b">B</option>
                                      <option value="d">D</option>
                                      <option value="e">E</option>
                                      <option value="f">F</option>
                                      <option value="g">G</option>
                                      <option value="h">H</option>
                                      <option value="i">I</option>
                                      <option value="j">J</option>
                                      <option value="k">K</option>
                                      <option value="l">L</option>
                                      <option value="m">M</option>
                                      <option value="n">N</option>
                                      <option value="o">O</option>
                                      <option value="p">P</option>
                                      <option value="q">Q</option>
                                      <option value="r">R</option>
                                      <option value="s">S</option>
                                      <option value="t">T</option>
                                      <option value="u">U</option>
                                      <option value="v">V</option>
                                      <option value="w">W</option>
                                      <option value="x">X</option>
                                      <option value="y">Y</option>
                                      <option value="z">Z</option>
                                    </select>
                                </div>
                                <div class="col-md-4">
                                    
                                    {% comment %} <label for="your-subject" class="form-label">To Employee </label> {% endcomment %}
                                    
                                    <select class="form-control" name="toemployee" id="toemployee" style="margin-bottom: 5px;">
                                        <option value="All">All</option>
                                        <option value="a">A</option>
                                        <option value="c">C</option>
                                        <option value="b">B</option>
                                        <option value="d">D</option>
                                        <option value="e">E</option>
                                        <option value="f">F</option>
                                        <option value="g">G</option>
                                        <option value="h">H</option>
                                        <option value="i">I</option>
                                        <option value="j">J</option>
                                        <option value="k">K</option>
                                        <option value="l">L</option>
                                        <option value="m">M</option>
                                        <option value="n">N</option>
                                        <option value="o">O</option>
                                        <option value="p">P</option>
                                        <option value="q">Q</option>
                                        <option value="r">R</option>
                                        <option value="s">S</option>
                                        <option value="t">T</option>
                                        <option value="u">U</option>
                                        <option value="v">V</option>
                                        <option value="w">W</option>
                                        <option value="x">X</option>
                                        <option value="y">Y</option>
                                        <option value="z">Z</option>
                                      </select>
                                </div>
                                
                                <div class="col-12">
                                  <div class="row">
                                    <div class="col-md-4">
                                        <br>
                                      <button  type="submit" class="btn btn-primary w-100 fw-bold" >Send</button>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </form>
                          </div>
                        </div>
                        
                    </div>
                    <br>
                    <table id="example" class="display nowrap" style="width:100%">
                        <thead >
                            <tr >
                                <th>Sl no</th>
                                <th>Employee ID</th>
                                <th>Name</th>
                                <th>Company Contact no</th>
                                <th>Personal Contact No </th>
                                <th>Presesnt Address</th>
                                <th>DOB</th>
                                <th>DOJ</th>
                                <th>Gender </th>
                                <th>Email </th>
                                <th>Office Email </th>
                                <th>Active </th>
                                <th>Designation </th>
                                <th>Level </th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for emp in employees %}
                        <tr>
                            <td>{{ forloop.counter }}</td>
                            <td>{{ emp.emp_id }}</td>
                            <td>{{ emp.name }}</td>
                            <td>{{ emp.company_contact }}</td>
                            <td>{{ emp.personal_contact }}</td>
                            <td>{{ emp.present_address }}</td>
                            <td>{{ emp.dob }}</td>
                            <td>{{ emp.doj }}</td>
                            <td>{{ emp.gender }}</td>
                            <td>{{ emp.email }}</td>
                            <td>{{ emp.office_email }}</td>
                            {% if emp.status %}
                            <td style="color: green; font-weight: 700;">Active</td>
                            {% else %}
                            <td style="color: red; font-weight: 700;">Inactive</td>
                            {% endif %} 
                            <td>{{ emp.designation }}</td>
                            <td>{{ emp.level }}</td>
                            
                        </tr>
                        {% endfor %}
                            
                        </tbody>
                        
                    </table>
                   
            </section> </br></br>
        </div>
    </div>
    <!-- reports modal  -->
    <div class="modal fade" id="reportModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Reports</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            </div>
            <div class="modal-body">
                <a type="button" href="{% url 'employeereport' %}" class="btn">Employees Report</a><br>
                <a type="button" href="{% url 'leavereport' %}" class="btn">Leaves Report</a><br>
                <a type="button" href="{% url 'eventreport' %}" class="btn">Events Report</a><br>
                
            </div>
        </div>
        </div>
      </div>
    <div class="d-flex justify-content-between privacy bg-primary">
        <div class="row">
            <a href="{% url 'privacyPolicy' %}">Privacy Policy</a>
            <a href="{% url 'termsAndConditions' %}">Terms & Conditions</a> 
        </div>
        <div>
            <a href="{{ dic.com.website }}" target="_blank">&copy {{dic.com}}</a> 
        </div>
      </div>
    
      <script>
        // JavaScript function to toggle the visibility of the filter element
        function toggleFilter() {
            var filterElement = document.getElementById('filterElement');
            if (filterElement.style.display === 'none' || filterElement.style.display === '') {
                filterElement.style.display = 'block';
            } else {
                filterElement.style.display = 'none';
            }
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script src="{% static 'assets\js\main.js' %}"></script>
     
    <!-- DataTable js-->
    <script src='https://code.jquery.com/jquery-3.5.1.js'></script>
    <script src='https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js'></script>
    <script src='https://cdn.datatables.net/1.10.19/js/dataTables.jqueryui.min.js'></script>
    <script src='https://cdn.datatables.net/buttons/1.5.2/js/dataTables.buttons.min.js'></script>
    <script src='https://cdn.datatables.net/buttons/1.5.2/js/buttons.jqueryui.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js'></script>
    <script src='https://cdn.datatables.net/buttons/1.5.2/js/buttons.html5.min.js'></script>
    <script src='https://cdn.datatables.net/buttons/1.5.2/js/buttons.print.min.js'></script>
    <script src='https://cdn.datatables.net/buttons/1.5.2/js/buttons.colVis.min.js'></script>
    <script src='https://cdn.datatables.net/responsive/2.2.5/js/dataTables.responsive.min.js'></script>
    <style>
        label {
            display: inline-block;
            margin: 0.5rem;
        }
    </style>
<script>
    $(document).ready(function() {
        var table = $('#example').DataTable({
            lengthChange: false,
            buttons: [
                {
                    extend: 'excel',
                },
                {
                    extend: 'colvis',
                },
                {
                    extend: 'pdf',
                    customize: function (doc) {
                        // Customize the PDF document
                        doc.pageSize = 'A3'; // Set the page size to A2
                        doc.orientation = 'landscape'; // Set the orientation to landscape
                       
                        
                    }
                }
            ],
            responsive: {
                details: {
                    renderer: function(api, rowIdx, columns) {
                        var data = $.map(columns, function(col, i) {
                            return col.hidden ?
                                '<tr data-dt-row="' + col.rowIndex + '" data-dt-column="' + col.columnIndex + '">' +
                                '<td>' + col.title + ':' + '</td> ' +
                                '<td>' + col.data + '</td>' +
                                '</tr>' :
                                '';
                        }).join('');

                        return data ?
                            $('<table/>').append(data) :
                            false;
                    }
                }
            }
        });

        table.buttons().container().insertBefore('#example_filter');
    });
</script>

</body>
</html>